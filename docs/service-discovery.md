# 服务发现协议

## 概述
本协议用于在局域网内自动发现服务端设备，支持Python、TypeScript和Rust实现。协议基于UDP广播，使用HMAC-SHA256进行身份验证。

## 协议规范
### 发现请求包 (60字节)
```
0-15: 设备ID (16字节)
16-19: 随机数 (4字节)
20-27: 时间戳 (8字节, big-endian)
28-59: HMAC签名 (32字节)
```

### 发现响应包 (38字节)
```
0-31: 原始请求的前32字节
34-37: IP地址 (4字节)
32-33: WebSocket端口 (2字节, big-endian)
```